import{_ as e,c as p,g as n,a as s,f as t,h,d as k,o as r,e as l}from"./app-novhhaUG.js";const d={};function o(g,i){const a=k("RouteLink");return r(),p("div",null,[i[5]||(i[5]=n('<h1 id="halo博客的搭建" tabindex="-1"><a class="header-anchor" href="#halo博客的搭建"><span>Halo博客的搭建</span></a></h1><blockquote><p>更新时间：2022-3-17</p></blockquote><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>一款现代化的开源博客/CMS系统，界面非常美观</p><p>官网：<a href="https://halo.run/" target="_blank" rel="noopener noreferrer">https://halo.run/</a></p><p><a href="https://demo.halo.run/" target="_blank" rel="noopener noreferrer">演示</a> 丨 <a href="https://github.com/halo-dev/halo/" target="_blank" rel="noopener noreferrer">仓库</a> 丨 <a href="https://docs.halo.run/" target="_blank" rel="noopener noreferrer">文档</a></p><figure><img src="https://img.viptv.work/viptv/halo/halo.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h2>',8)),s("ul",null,[s("li",null,[s("p",null,[t(a,{to:"/tutorial/website/Server/"},{default:h(()=>i[0]||(i[0]=[l("服务器1台")])),_:1})])]),s("li",null,[s("p",null,[t(a,{to:"/tutorial/website/domain/"},{default:h(()=>i[1]||(i[1]=[l("域名1个")])),_:1})])]),s("li",null,[s("p",null,[t(a,{to:"/tutorial/website/shell/"},{default:h(()=>i[2]||(i[2]=[l("安装shell工具")])),_:1})])]),s("li",null,[s("p",null,[t(a,{to:"/tutorial/website/BT.html"},{default:h(()=>i[3]||(i[3]=[l("安装宝塔面板")])),_:1})])]),s("li",null,[s("p",null,[t(a,{to:"/tutorial/website/docker.html"},{default:h(()=>i[4]||(i[4]=[l("安装docker")])),_:1})])])]),i[6]||(i[6]=n(`<div class="hint-container tip"><p class="hint-container-title">说明</p><p>非docker安装需要安装java环境，<a href="https://bbs.halo.run/d/312-halo/9" target="_blank" rel="noopener noreferrer">请参考此文</a></p></div><h2 id="下载配置文件" tabindex="-1"><a class="header-anchor" href="#下载配置文件"><span>下载配置文件</span></a></h2><p>shell登录服务器，创建工作目录</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.halo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.halo</span></span></code></pre></div><p>下载示例配置文件</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://dl.halo.run/config/application-template.yaml</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -O</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./application.yaml</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/halo/halo-01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>编辑配置文件，<a href="https://docs.halo.run/getting-started/config/" target="_blank" rel="noopener noreferrer">☛ 官方配置文档参考</a></p><div class="hint-container tip"><p class="hint-container-title">说明</p><p>可以用下面命令，也可以用宝塔进目录 <code>/root/.halo</code> 修改</p></div><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> application.yaml</span></span></code></pre></div><h3 id="端口" tabindex="-1"><a class="header-anchor" href="#端口"><span>端口</span></a></h3><p>默认端口8090，可以修改，但建议不要改成80端口</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">server:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  port:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8090</span></span></code></pre></div><h3 id="h2数据库" tabindex="-1"><a class="header-anchor" href="#h2数据库"><span>H2数据库</span></a></h3><p>Halo 目前支持 H2 及 MySQL 数据库，推荐使用H2</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">spring:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  datasource:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    driver-class-name:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> org.h2.Driver</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    url:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jdbc:h2:file:~/.halo/db/halo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    username:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> admin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    password:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 123456</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  h2:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    console:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      settings:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        web-allow-others:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      path:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /h2-console</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      enabled:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span></span></code></pre></div><div class="hint-container tip"><p class="hint-container-title">说明</p><p><code>url</code> 为默认的数据本地存储地址，请勿修改</p><p>数据库账户和密码默认为 <code>admin</code> 和 <code>123456</code>，请修改账密</p><p><code>h2</code> 的配置使用默认，如果需要手动修改请参考官方配置</p></div><h3 id="gzip压缩-可选" tabindex="-1"><a class="header-anchor" href="#gzip压缩-可选"><span>Gzip压缩(可选)</span></a></h3><p>启用压缩对于减少带宽和加快页面加载非常有用</p><p>在未使用 <code>Nginx</code> 或 <code>Caddy</code> 等反向代理服务器时(反向代理服务器通常是默认开启 Gzip 的)，可以考虑开启，将 <code>false</code> 改成 <code>true</code></p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Response data gzip.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">compression:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  enabled:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span></span></code></pre></div><h3 id="压缩-可选" tabindex="-1"><a class="header-anchor" href="#压缩-可选"><span>压缩(可选)</span></a></h3><p>Halo 支持自定义后台管理的根路径</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">halo:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Your admin client path is https://your-domain/{admin-path}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">admin-path:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> admin</span></span></code></pre></div><h3 id="缓存-可选" tabindex="-1"><a class="header-anchor" href="#缓存-可选"><span>缓存(可选)</span></a></h3><p>支持两种策略：</p><p><code>memory</code> 将数据缓存至内存，重启服务缓存将清空</p><p><code>level</code> 将数据缓存至本地，重启服务不会清空缓存</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">halo:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># memory or level</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cache:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> memory</span></span></code></pre></div><h2 id="拉取镜像" tabindex="-1"><a class="header-anchor" href="#拉取镜像"><span>拉取镜像</span></a></h2><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> halohub/halo:latest</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/halo/halo-02.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="创建容器" tabindex="-1"><a class="header-anchor" href="#创建容器"><span>创建容器</span></a></h2><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">~/.halo:/root/.halo</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-p </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">8090:8090</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--name </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">halo</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--restart=unless-stopped </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">halohub/halo:latest</span></span></code></pre></div><div class="hint-container tip"><p class="hint-container-title">说明</p><p><code>-it</code> 开启输入功能并连接伪终端</p><p><code>-d</code> 后台运行容器</p><p><code>-v</code> 工作目录映射，宿主机路径:/root/.halo，后者不能修改</p><p><code>-p</code> 端口映射，格式为 主机(宿主)端口:容器端口 ，可在 <code>application.yaml</code> 配置</p><p><code>--name</code> 为容器指定一个名称</p><p><code>--restart</code> 建议设置为 unless-stopped，在 Docker 启动的时候自动启动 Halo 容器</p></div><figure><img src="https://img.viptv.work/viptv/halo/halo-03.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果你想域名访问网站，请看完所有步骤！！！</p><div class="hint-container tip"><p class="hint-container-title">说明</p><p>不想域名访问用IP+端口即可</p></div><p>访问前请开启8090端口</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>服务器还需去控制台-防火墙安全组放行</p></div><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">firewall-cmd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --zone=public</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --add-port=8090/tcp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --permanent</span></span></code></pre></div><h2 id="安装nginx" tabindex="-1"><a class="header-anchor" href="#安装nginx"><span>安装Nginx</span></a></h2><p>宝塔软件商店搜索<code>Nginx</code>并安装</p><div class="hint-container tip"><p class="hint-container-title">说明</p><p>已装的无视</p></div><figure><img src="https://img.viptv.work/viptv/halo/halo-04.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>网站-添加站点-输入域名，FTP 和 数据库均不创建数据库，PHP纯静态</p><figure><img src="https://img.viptv.work/viptv/halo/halo-05.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="设置ssl" tabindex="-1"><a class="header-anchor" href="#设置ssl"><span>设置SSL</span></a></h2><p>可以用宝塔的，也可以用服务器的，以腾讯服务器为例</p><div class="hint-container tip"><p class="hint-container-title">说明</p><p>SSL证书可以实现加密传输，也可以消除不安全网站提示</p></div><p>搜索SSL证书进入，申请免费证书</p><figure><img src="https://img.viptv.work/viptv/halo/halo-06.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://img.viptv.work/viptv/halo/halo-07.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>填写域名信息，即可申请成功后，下载Nginx格式</p><figure><img src="https://img.viptv.work/viptv/halo/halo-08.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://img.viptv.work/viptv/halo/halo-09.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>宝塔网站-域名-SSL-其他证书，这里需要 <code>KEY</code> 和 <code>PEM</code></p><p>我们从下载的安装包里找到对应文件，记事本方式打开复制粘贴进去，保存</p><figure><img src="https://img.viptv.work/viptv/halo/halo-10.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="修改配置文件" tabindex="-1"><a class="header-anchor" href="#修改配置文件"><span>修改配置文件</span></a></h2><p>宝塔网站-域名-配置文件，把下面这一段加在第一行</p><figure><img src="https://img.viptv.work/viptv/halo/halo-11.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container tip"><p class="hint-container-title">说明</p><p>8090为运行端口</p></div><div class="language-php" data-highlighter="shiki" data-ext="php" data-title="php" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">upstream</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> halo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    server</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127.0.0.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8090</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>下拉找到location，修改成为下面这样</p><div class="language-php" data-highlighter="shiki" data-ext="php" data-title="php" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#修改前</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">location</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ~</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> .</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">gif</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">jpg</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">jpeg</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">png</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">bmp</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">swf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)$</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    proxy_pass</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> http</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//halo;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    expires</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      30</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    error_log</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">dev</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    access_log</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><div class="language-php" data-highlighter="shiki" data-ext="php" data-title="php" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#修改后</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">location</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ~</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> .</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">js</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">css</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    proxy_pass</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> http</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//halo;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    expires</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      12</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    error_log</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">dev</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    access_log</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>然后在js|css下方，<code>access_log</code>之上添加这一整段，保存即可</p><div class="language-php" data-highlighter="shiki" data-ext="php" data-title="php" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">location</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    proxy_pass</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> http</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//halo;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    proxy_set_header</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> HOST</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    proxy_set_header</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> X</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">Forwarded</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">Proto</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    proxy_set_header</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> X</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Real</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">IP</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $remote_addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">    proxy_set_header</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> X</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">Forwarded</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">For</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $proxy_add_x_forwarded_for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>参考示例如图</p><figure><img src="https://img.viptv.work/viptv/halo/halo-12.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="访问域名并安装" tabindex="-1"><a class="header-anchor" href="#访问域名并安装"><span>访问域名并安装</span></a></h2><p>访问域名成功进入安装引导界面，自行填写信息即可</p><div class="hint-container tip"><p class="hint-container-title">说明</p><p>这里的账密是后台登录用的，自己记好</p></div><figure><img src="https://img.viptv.work/viptv/halo/halo-13.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>后台登录：<code>http://域名/admin</code></p><figure><img src="https://img.viptv.work/viptv/halo/halo-14.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="更换主题" tabindex="-1"><a class="header-anchor" href="#更换主题"><span>更换主题</span></a></h2><p>主题商店：<a href="https://halo.run/themes.html" target="_blank" rel="noopener noreferrer">https://halo.run/themes.html</a></p><figure><img src="https://img.viptv.work/viptv/halo/halo-15.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>启用上传的主题包即可，更新方法也是一样</p><figure><img src="https://img.viptv.work/viptv/halo/halo-16.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="特别鸣谢" tabindex="-1"><a class="header-anchor" href="#特别鸣谢"><span>特别鸣谢</span></a></h2><ul><li><p><a href="https://github.com/halo-dev/halo/" target="_blank" rel="noopener noreferrer">halo</a></p></li><li><p><a href="https://halo.run/" target="_blank" rel="noopener noreferrer">halo官网</a></p></li><li><p><a href="https://github.com/xzhuz/halo-theme-xue/" target="_blank" rel="noopener noreferrer">xzhuz</a>「雪主题」</p></li></ul>`,84))])}const A=e(d,[["render",o],["__file","Halo.html.vue"]]),B=JSON.parse('{"path":"/tutorial/website/Halo.html","title":"Halo博客的搭建","lang":"zh-CN","frontmatter":{"description":"Halo博客的搭建 更新时间：2022-3-17 简介 一款现代化的开源博客/CMS系统，界面非常美观 官网：https://halo.run/ 演示 丨 仓库 丨 文档 准备工作 说明 非docker安装需要安装java环境，请参考此文 下载配置文件 shell登录服务器，创建工作目录 下载示例配置文件 编辑配置文件，☛ 官方配置文档参考 说明 可以...","head":[["meta",{"property":"og:url","content":"https://www.viptv.work/tutorial/website/Halo.html"}],["meta",{"property":"og:site_name","content":"VIPTV - 工作室"}],["meta",{"property":"og:title","content":"Halo博客的搭建"}],["meta",{"property":"og:description","content":"Halo博客的搭建 更新时间：2022-3-17 简介 一款现代化的开源博客/CMS系统，界面非常美观 官网：https://halo.run/ 演示 丨 仓库 丨 文档 准备工作 说明 非docker安装需要安装java环境，请参考此文 下载配置文件 shell登录服务器，创建工作目录 下载示例配置文件 编辑配置文件，☛ 官方配置文档参考 说明 可以..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.viptv.work/viptv/halo/halo.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-18T14:03:33.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-18T14:03:33.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Halo博客的搭建\\",\\"image\\":[\\"https://img.viptv.work/viptv/halo/halo.png\\",\\"https://img.viptv.work/viptv/halo/halo-01.png\\",\\"https://img.viptv.work/viptv/halo/halo-02.png\\",\\"https://img.viptv.work/viptv/halo/halo-03.png\\",\\"https://img.viptv.work/viptv/halo/halo-04.png\\",\\"https://img.viptv.work/viptv/halo/halo-05.png\\",\\"https://img.viptv.work/viptv/halo/halo-06.png\\",\\"https://img.viptv.work/viptv/halo/halo-07.png\\",\\"https://img.viptv.work/viptv/halo/halo-08.png\\",\\"https://img.viptv.work/viptv/halo/halo-09.png\\",\\"https://img.viptv.work/viptv/halo/halo-10.png\\",\\"https://img.viptv.work/viptv/halo/halo-11.png\\",\\"https://img.viptv.work/viptv/halo/halo-12.png\\",\\"https://img.viptv.work/viptv/halo/halo-13.png\\",\\"https://img.viptv.work/viptv/halo/halo-14.png\\",\\"https://img.viptv.work/viptv/halo/halo-15.png\\",\\"https://img.viptv.work/viptv/halo/halo-16.png\\"],\\"dateModified\\":\\"2025-01-18T14:03:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Hefung\\",\\"url\\":\\"/about/us\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://www.viptv.work/atom.xml","title":"VIPTV - 工作室 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://www.viptv.work/feed.json","title":"VIPTV - 工作室 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://www.viptv.work/rss.xml","title":"VIPTV - 工作室 RSS Feed"}]]},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"准备工作","slug":"准备工作","link":"#准备工作","children":[]},{"level":2,"title":"下载配置文件","slug":"下载配置文件","link":"#下载配置文件","children":[{"level":3,"title":"端口","slug":"端口","link":"#端口","children":[]},{"level":3,"title":"H2数据库","slug":"h2数据库","link":"#h2数据库","children":[]},{"level":3,"title":"Gzip压缩(可选)","slug":"gzip压缩-可选","link":"#gzip压缩-可选","children":[]},{"level":3,"title":"压缩(可选)","slug":"压缩-可选","link":"#压缩-可选","children":[]},{"level":3,"title":"缓存(可选)","slug":"缓存-可选","link":"#缓存-可选","children":[]}]},{"level":2,"title":"拉取镜像","slug":"拉取镜像","link":"#拉取镜像","children":[]},{"level":2,"title":"创建容器","slug":"创建容器","link":"#创建容器","children":[]},{"level":2,"title":"安装Nginx","slug":"安装nginx","link":"#安装nginx","children":[]},{"level":2,"title":"设置SSL","slug":"设置ssl","link":"#设置ssl","children":[]},{"level":2,"title":"修改配置文件","slug":"修改配置文件","link":"#修改配置文件","children":[]},{"level":2,"title":"访问域名并安装","slug":"访问域名并安装","link":"#访问域名并安装","children":[]},{"level":2,"title":"更换主题","slug":"更换主题","link":"#更换主题","children":[]},{"level":2,"title":"特别鸣谢","slug":"特别鸣谢","link":"#特别鸣谢","children":[]}],"git":{"createdTime":1737209013000,"updatedTime":1737209013000,"contributors":[{"name":"qq2236639958","username":"qq2236639958","email":"qq2236639958@outlook.com","commits":1,"url":"https://github.com/qq2236639958"}]},"readingTime":{"minutes":3.89,"words":1166},"filePathRelative":"tutorial/website/Halo.md","localizedDate":"2025年1月18日","excerpt":"","autoDesc":true}');export{A as comp,B as data};
