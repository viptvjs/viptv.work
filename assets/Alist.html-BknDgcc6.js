import{_ as e,c as h,e as n,a as t,g as p,h as l,f as s,b as r,o as g}from"./app-t5qrZzJW.js";const o={};function k(d,i){const a=r("RouteLink");return g(),h("div",null,[i[6]||(i[6]=n('<h1 id="alist网盘搭建" tabindex="-1"><a class="header-anchor" href="#alist网盘搭建"><span>Alist网盘搭建</span></a></h1><blockquote><p>更新时间：2024-1-29</p></blockquote><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>Alist是一个网盘文件列表程序，支持的网盘谷歌、pikpak、阿里、百度、夸克、蓝奏、123等等</p><ul><li><p>演示：<a href="https://al.nn.ci/" target="_blank" rel="noopener noreferrer">https://al.nn.ci/</a></p></li><li><p><a href="https://alist.nn.ci/zh/" target="_blank" rel="noopener noreferrer">官网</a> 丨 <a href="https://github.com/alist-org/alist/" target="_blank" rel="noopener noreferrer">仓库</a> 丨 <a href="https://hub.docker.com/r/xhofe/alist" target="_blank" rel="noopener noreferrer">镜像</a> 丨 <a href="https://space.bilibili.com/36411485/channel/collectiondetail?sid=686340" target="_blank" rel="noopener noreferrer">美化教程</a></p></li></ul><figure><img src="https://img.viptv.work/viptv/Alist/Alist-01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="准备" tabindex="-1"><a class="header-anchor" href="#准备"><span>准备</span></a></h2>',7)),t("ul",null,[t("li",null,[t("p",null,[p(a,{to:"/tutorial/website/Server/"},{default:l(()=>i[0]||(i[0]=[s("服务器1台")])),_:1})])]),t("li",null,[t("p",null,[p(a,{to:"/tutorial/website/BT.html"},{default:l(()=>i[1]||(i[1]=[s("搭建好宝塔面板")])),_:1})])]),t("li",null,[t("p",null,[p(a,{to:"/tutorial/website/domain/"},{default:l(()=>i[2]||(i[2]=[s("域名 或 二级域名")])),_:1}),i[3]||(i[3]=s(" (可选)"))])]),t("li",null,[t("p",null,[p(a,{to:"/tutorial/website/shell/"},{default:l(()=>i[4]||(i[4]=[s("shell工具")])),_:1}),i[5]||(i[5]=s(" (或服务器自带)"))])])]),i[7]||(i[7]=n(`<h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><h3 id="docker安装" tabindex="-1"><a class="header-anchor" href="#docker安装"><span>docker安装</span></a></h3><div class="hint-container tip"><p class="hint-container-title">说明</p><p>本次仅演示使用Docker安装，其他请参照官方说明</p></div><p>官方安装文档：<a href="https://alist.nn.ci/zh/guide/install/docker.html" target="_blank" rel="noopener noreferrer">https://alist.nn.ci/zh/guide/install/docker.html</a></p><p>点击复制 <code>发行版</code> 的安装命令</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-02.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>用shell登录服务器，粘贴，回车</p><div class="hint-container tip"><p class="hint-container-title">说明</p><p>第一个 <code>5244</code> 监听端口可以自己改，第二个5244不要动</p><p>怕出错的什么别改，默认就行</p></div><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --restart=unless-stopped</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/alist:/opt/alist/data</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5244:5244</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PUID=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PGID=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UMASK=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">022</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;alist&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xhofe/alist:latest</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-03.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>安装完成，我们还需要放行 <code>5244</code> 端口</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">firewall-cmd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --zone=public</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --add-port=5244/tcp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --permanent</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-04.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>服务器的端口也是需要放行的，以腾讯为例，防火墙 - 添加规则 - 端口：5244 - 确定</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-05.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://img.viptv.work/viptv/Alist/Alist-06.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://img.viptv.work/viptv/Alist/Alist-07.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="登录alist" tabindex="-1"><a class="header-anchor" href="#登录alist"><span>登录Alist</span></a></h3><p>现在就可以用 <code>IP+端口</code> 访问了，比如：<a href="http://198.124.1.1:5244" target="_blank" rel="noopener noreferrer">http://198.124.1.1:5244</a></p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-08.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>初始默认账号是 <code>admin</code> ，密码我们按文档的命令查看</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看首次自动生成的密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> logs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alist</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 随机生成一个密码</span></span>
<span class="line highlighted"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alist</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./alist</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> admin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> random</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 手动设置一个密码,\`NEW_PASSWORD\`是指你需要设置的密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alist</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./alist</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> admin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NEW_PASSWORD</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-09.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这样我们就登录进来了，点击底部 <code>管理</code></p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-10.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>登录成功后，改一下账号和密码，保存了重新登一次</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-11.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="反向代理" tabindex="-1"><a class="header-anchor" href="#反向代理"><span>反向代理</span></a></h3><p>开反代的目的就是 <code>隐藏端口和IP</code> ，不然公网IP暴露，服务器就等着被捶打吧</p><p>登录宝塔，<code>网站 - 添加站点 - 域名输入你的域名 或者 二级域名</code> ，其他不用改，提交</p><div class="hint-container tip"><p class="hint-container-title">说明</p><p>我这里用的是二级域名，如：<a href="http://pan.baidu.com" target="_blank" rel="noopener noreferrer">pan.baidu.com</a></p></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-12.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>点击 <code>配置文件</code> , 删除这一段，或者选中后 <code>Ctrl+/</code> 注释掉</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#禁止访问的文件或目录</span></span>
<span class="line"><span>location ~ ^/(\\.user.ini|\\.htaccess|\\.git|\\.env|\\.svn|\\.project|LICENSE|README.md)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return 404;</span></span>
<span class="line"><span>}</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-13.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>还有另一段也删除，或者选中后 <code>Ctrl+/</code> 注释掉</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>location ~ .*\\.(gif|jpg|jpeg|png|bmp|swf)$</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    expires      30d;</span></span>
<span class="line"><span>    error_log /dev/null;</span></span>
<span class="line"><span>    access_log /dev/null;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>location ~ .*\\.(js|css)?$</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    expires      12h;</span></span>
<span class="line"><span>    error_log /dev/null;</span></span>
<span class="line"><span>    access_log /dev/null;</span></span>
<span class="line"><span>}</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-14.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>在点击 <code>SSL - Let&#39;s Encrypt</code> - 勾选域名 申请</p><div class="hint-container warning"><p class="hint-container-title">申请是免费的</p><p>建议还是在自己服务器的域名下去申请，本次只是演示</p></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-15.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>等待一下就成功了，保存，再打开 <code>强制https开关</code>，再次保存</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-16.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>点反向代理 - 目标URL <code>127.0.0.1:5244</code> - 启用反向代理，其他不用填</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>http://127.0.0.1:5244</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-17.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>现在用域名访问网站，就有了绿色的小锁</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>域名网页仅供预览，后台登录还是需要公网IP+端口登录！</p></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-18.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><p>网盘太多就不一一展示了，我就以阿里云盘为例吧</p><h3 id="阿里云盘" tabindex="-1"><a class="header-anchor" href="#阿里云盘"><span>阿里云盘</span></a></h3><p>先去获取令牌：<a href="https://alist.nn.ci/tool/aliyundrive/request" target="_blank" rel="noopener noreferrer">https://alist.nn.ci/tool/aliyundrive/request</a></p><p>点 <code>Go to Login</code> 去登录</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-19.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://img.viptv.work/viptv/Alist/Alist-20.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>登录后允许权限</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-21.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>然后会得到一串数字和字母组合的令牌，一会要用到!</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-22.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>打开 <a href="https://www.alipan.com/" target="_blank" rel="noopener noreferrer">阿里云盘</a> 进入你要分享的目录（没有就新建），比如：</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>https://www.alipan.com/drive/file/backup/634272c80aecead677524b03accbd969debd56ec</span></span></code></pre></div><p><code>634272c80aecead677524b03accbd969debd56ec</code> 就是 根文件夹ID 一会要用!</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-23.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>存储 - 添加 - 选择 <code>阿里云盘Open</code>，这里挂载路径填文件夹名，可以自己随便写</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-24.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>云盘类型选一下，我的是 <code>备份盘</code></p><p><code>根文件夹ID</code> 和 <code>刷新令牌</code> 也是刚刚获取的那一长串</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-25.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><code>Oauth令牌链接</code> 改成下面连个任意一个，移除方式改成 <code>回收站</code></p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>https://api-cf.nn.ci/alist/ali_open/token</span></span>
<span class="line"><span></span></span>
<span class="line"><span>https://api.xhofe.top/alist/ali_open/token</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-26.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>添加成功即可</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-27.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>我们访问主页即可看到效果</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-28.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>最后，我们希望别人访问，还需要开启 <code>guest</code> 用户</p><p>用户 - 编辑 <code>guest</code> 不用给权限，直接保存启用即可</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-29.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="拓展" tabindex="-1"><a class="header-anchor" href="#拓展"><span>拓展</span></a></h2><h3 id="美化" tabindex="-1"><a class="header-anchor" href="#美化"><span>美化</span></a></h3><p>关闭站点公告：设置 - 站点 - 站点公告，再次打开就不会弹了</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-30.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>元信息 - 路径(在哪个文件夹下显示) - 说明，支持Markdown</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-31.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://img.viptv.work/viptv/Alist/Alist-32.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h3 id="搜素" tabindex="-1"><a class="header-anchor" href="#搜素"><span>搜素</span></a></h3><p>根据 <a href="https://alist.nn.ci/zh/guide/advanced/search.html" target="_blank" rel="noopener noreferrer">官方的区别说明</a>，选 <code>数据库(非全文搜索)</code></p><p>开启自动更新索引，保存</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-33.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>点击重建索引，等它自动爬数据</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-34.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这样有数据就可以了，点一个 <code>更新索引</code> 即可</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-35.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h3 id="webdav" tabindex="-1"><a class="header-anchor" href="#webdav"><span>WebDAV</span></a></h3><p>可以挂载到本地当硬盘一样用，也可以在线看电影，但是由于阿里盘对流量有限制，就不演示了</p><p><a href="https://alist.nn.ci/zh/guide/webdav.html" target="_blank" rel="noopener noreferrer">文档也很详细</a>，参照着来就行</p><hr><h3 id="备份" tabindex="-1"><a class="header-anchor" href="#备份"><span>备份</span></a></h3><p>备份与恢复 - 备份</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-36.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>会自动下载一个 <code>json</code> 文件，可用于恢复所有索引及布局</p><figure><img src="https://img.viptv.work/viptv/Alist/Alist-37.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="更新" tabindex="-1"><a class="header-anchor" href="#更新"><span>更新</span></a></h2><p>需要删除容器和镜像，重新拉取，Xshell登录，删除容器</p><div class="hint-container tip"><p class="hint-container-title">说明</p><p>容器运行中，先停止后才可删除</p></div><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #查看容器</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alist</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #暂停alist容器</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alist</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #删除alist容器</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-38.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>重新命令拉取即可</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xhofe/alist:latest</span></span></code></pre></div><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --restart=unless-stopped</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/alist:/opt/alist/data</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5244:5244</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PUID=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PGID=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UMASK=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">022</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;alist&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xhofe/alist:main</span></span></code></pre></div><details class="hint-container details"><summary>如何彻底卸载</summary><p>先 暂停、删除容器，再来删除镜像</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> images</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #查看镜像</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rmi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 镜像ID</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #删除镜像</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">或者</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xhofe/alist:latest</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #删除镜像</span></span></code></pre></div><figure><img src="https://img.viptv.work/viptv/Alist/Alist-39.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></details><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><h4 id="_1-添加目录时报错" tabindex="-1"><a class="header-anchor" href="#_1-添加目录时报错"><span>1.添加目录时报错</span></a></h4><blockquote><p>Failed create storage in database: UNIQUE constraint failed: x_storages.mount_path</p></blockquote><p>文件夹重名了，即便网盘不同，挂载到Alist也不能重名</p><h4 id="_2-如何去掉底部的-由-alist-驱动" tabindex="-1"><a class="header-anchor" href="#_2-如何去掉底部的-由-alist-驱动"><span>2.如何去掉底部的 <code>由 AList 驱动</code></span></a></h4><p>请尊重开发者的劳动，谢谢。如果你真的想删除它，你可以使用自定义 CSS 来隐藏它</p><h4 id="_3-站点转移" tabindex="-1"><a class="header-anchor" href="#_3-站点转移"><span>3.站点转移</span></a></h4><p>登录后台备份，将备份下载到桌面，部署好新站点后，导入即可</p><h4 id="_4-ipa下载变成了zip" tabindex="-1"><a class="header-anchor" href="#_4-ipa下载变成了zip"><span>4.ipa下载变成了zip</span></a></h4><p>设置 - 全局 - 打包下载关闭</p>`,124))])}const v=e(o,[["render",k],["__file","Alist.html.vue"]]),A=JSON.parse('{"path":"/tutorial/website/Alist.html","title":"Alist网盘搭建","lang":"zh-CN","frontmatter":{"description":"Alist网盘搭建 更新时间：2024-1-29 简介 Alist是一个网盘文件列表程序，支持的网盘谷歌、pikpak、阿里、百度、夸克、蓝奏、123等等 演示：https://al.nn.ci/ 官网 丨 仓库 丨 镜像 丨 美化教程 准备 (可选) (或服务器自带) 安装 docker安装 说明 本次仅演示使用Docker安装，其他请参照官方说明 ...","head":[["meta",{"property":"og:url","content":"https://www.viptv.work/tutorial/website/Alist.html"}],["meta",{"property":"og:site_name","content":"VIPTV - 工作室"}],["meta",{"property":"og:title","content":"Alist网盘搭建"}],["meta",{"property":"og:description","content":"Alist网盘搭建 更新时间：2024-1-29 简介 Alist是一个网盘文件列表程序，支持的网盘谷歌、pikpak、阿里、百度、夸克、蓝奏、123等等 演示：https://al.nn.ci/ 官网 丨 仓库 丨 镜像 丨 美化教程 准备 (可选) (或服务器自带) 安装 docker安装 说明 本次仅演示使用Docker安装，其他请参照官方说明 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.viptv.work/viptv/Alist/Alist-01.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-15T16:26:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-15T16:26:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Alist网盘搭建\\",\\"image\\":[\\"https://img.viptv.work/viptv/Alist/Alist-01.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-02.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-03.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-04.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-05.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-06.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-07.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-08.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-09.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-10.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-11.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-12.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-13.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-14.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-15.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-16.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-17.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-18.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-19.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-20.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-21.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-22.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-23.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-24.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-25.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-26.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-27.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-28.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-29.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-30.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-31.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-32.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-33.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-34.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-35.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-36.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-37.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-38.png\\",\\"https://img.viptv.work/viptv/Alist/Alist-39.png\\"],\\"dateModified\\":\\"2025-02-15T16:26:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Hefung\\",\\"url\\":\\"/about/us\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://www.viptv.work/atom.xml","title":"VIPTV - 工作室 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://www.viptv.work/feed.json","title":"VIPTV - 工作室 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://www.viptv.work/rss.xml","title":"VIPTV - 工作室 RSS Feed"}]]},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"准备","slug":"准备","link":"#准备","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[{"level":3,"title":"docker安装","slug":"docker安装","link":"#docker安装","children":[]},{"level":3,"title":"登录Alist","slug":"登录alist","link":"#登录alist","children":[]},{"level":3,"title":"反向代理","slug":"反向代理","link":"#反向代理","children":[]}]},{"level":2,"title":"使用","slug":"使用","link":"#使用","children":[{"level":3,"title":"阿里云盘","slug":"阿里云盘","link":"#阿里云盘","children":[]}]},{"level":2,"title":"拓展","slug":"拓展","link":"#拓展","children":[{"level":3,"title":"美化","slug":"美化","link":"#美化","children":[]},{"level":3,"title":"搜素","slug":"搜素","link":"#搜素","children":[]},{"level":3,"title":"WebDAV","slug":"webdav","link":"#webdav","children":[]},{"level":3,"title":"备份","slug":"备份","link":"#备份","children":[]}]},{"level":2,"title":"更新","slug":"更新","link":"#更新","children":[]},{"level":2,"title":"常见问题","slug":"常见问题","link":"#常见问题","children":[]}],"git":{"createdTime":1739636760000,"updatedTime":1739636760000,"contributors":[{"name":"github-actions[bot]","username":"github-actions[bot]","email":"28900094+github-actions[bot]@users.noreply.github.com","commits":1,"url":"https://github.com/github-actions[bot]"}]},"readingTime":{"minutes":5.23,"words":1568},"filePathRelative":"tutorial/website/Alist.md","localizedDate":"2025年2月16日","excerpt":"","autoDesc":true}');export{v as comp,A as data};
