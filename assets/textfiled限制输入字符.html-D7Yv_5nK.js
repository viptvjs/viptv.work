import{_ as s,c as a,f as t,o as e}from"./app-DHK2xnFo.js";const p={};function o(i,n){return e(),a("div",null,n[0]||(n[0]=[t(`<blockquote><p>记录一下限制输入字符的判断。不仅局限于中文或英文</p></blockquote><ul><li>首先在 ViewDidLoad 中注册通知</li></ul><div class="language-objc line-numbers-mode" data-highlighter="prismjs" data-ext="objc" data-title="objc"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token punctuation">[</span>NSNotificationCenter defaultCenter<span class="token punctuation">]</span>addObserver<span class="token punctuation">:</span><span class="token keyword">self</span> selector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>textFieldEditChanged<span class="token punctuation">:</span><span class="token punctuation">)</span></span>
<span class="line">	name<span class="token punctuation">:</span><span class="token string">@&quot;UITextFieldTextDidChangeNotification&quot;</span> object<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>userTF<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>下面是判断逻辑 由于需求有中文键盘下的字母数字输入，所以其中那部分判断如不需要可以去除</li></ul><div class="language-objc line-numbers-mode" data-highlighter="prismjs" data-ext="objc" data-title="objc"><pre><code><span class="line"><span class="token comment">// 输入字符判断</span></span>
<span class="line"><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>textFieldEditChanged<span class="token punctuation">:</span><span class="token punctuation">(</span>NSNotification <span class="token operator">*</span><span class="token punctuation">)</span>obj <span class="token punctuation">{</span></span>
<span class="line">    UITextField <span class="token operator">*</span>textField <span class="token operator">=</span> <span class="token punctuation">(</span>UITextField <span class="token operator">*</span><span class="token punctuation">)</span>obj<span class="token punctuation">.</span>object<span class="token punctuation">;</span></span>
<span class="line">    NSString <span class="token operator">*</span>toBeString <span class="token operator">=</span> textField<span class="token punctuation">.</span>text<span class="token punctuation">;</span></span>
<span class="line">    NSString <span class="token operator">*</span>lang <span class="token operator">=</span> <span class="token punctuation">[</span>textField<span class="token punctuation">.</span>textInputMode primaryLanguage<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>lang isEqualToString<span class="token punctuation">:</span><span class="token string">@&quot;zh-Hans&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">// 简体中文输入</span></span>
<span class="line">    	<span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">//获取高亮部分</span></span>
<span class="line">        UITextRange <span class="token operator">*</span>selectedRange <span class="token operator">=</span> <span class="token punctuation">[</span>textField markedTextRange<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        UITextPosition <span class="token operator">*</span>position <span class="token operator">=</span> <span class="token punctuation">[</span>textField positionFromPosition<span class="token punctuation">:</span>selectedRange<span class="token punctuation">.</span>start offset<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 没有高亮选择的字，则对已输入的文字进行字数统计和限制</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>position <span class="token operator">||</span> <span class="token operator">!</span>selectedRange<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>toBeString<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> MAX_CHINESE_LENGTH<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                NSRange rangeIndex <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString rangeOfComposedCharacterSequenceAtIndex<span class="token punctuation">:</span>MAX_CHINESE_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>rangeIndex<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">                    textField<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString substringToIndex<span class="token punctuation">:</span>MAX_CHINESE_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token keyword">else</span></span>
<span class="line">                <span class="token punctuation">{</span></span>
<span class="line">                    NSRange rangeRange <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString rangeOfComposedCharacterSequencesForRange<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> MAX_CHINESE_LENGTH<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                    textField<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString substringWithRange<span class="token punctuation">:</span>rangeRange<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>toBeString<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> MAX_ENGLISH_LENGTH<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                NSRange rangeIndex <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString rangeOfComposedCharacterSequenceAtIndex<span class="token punctuation">:</span>MAX_ENGLISH_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>rangeIndex<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">{</span></span>
<span class="line">                    textField<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString substringToIndex<span class="token punctuation">:</span>MAX_ENGLISH_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token keyword">else</span></span>
<span class="line">                <span class="token punctuation">{</span></span>
<span class="line">                    NSRange rangeRange <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString rangeOfComposedCharacterSequencesForRange<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> MAX_ENGLISH_LENGTH<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                    textField<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString substringWithRange<span class="token punctuation">:</span>rangeRange<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    	<span class="token comment">// 中文输入法以外的直接对其统计限制即可，不考虑其他语种情况</span></span>
<span class="line">    	<span class="token keyword">else</span></span>
<span class="line">    	<span class="token punctuation">{</span></span>
<span class="line">        	<span class="token keyword">if</span> <span class="token punctuation">(</span>toBeString<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> MAX_ENGLISH_LENGTH<span class="token punctuation">)</span></span>
<span class="line">        		<span class="token punctuation">{</span></span>
<span class="line">            		NSRange rangeIndex <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString rangeOfComposedCharacterSequenceAtIndex<span class="token punctuation">:</span>MAX_ENGLISH_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">            		<span class="token keyword">if</span> <span class="token punctuation">(</span>rangeIndex<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">            		<span class="token punctuation">{</span></span>
<span class="line">                		textField<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString substringToIndex<span class="token punctuation">:</span>MAX_ENGLISH_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">            		<span class="token punctuation">}</span></span>
<span class="line">            		<span class="token keyword">else</span></span>
<span class="line">            		<span class="token punctuation">{</span></span>
<span class="line">                NSRange rangeRange <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString rangeOfComposedCharacterSequencesForRange<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> MAX_ENGLISH_LENGTH<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">                textField<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">[</span>toBeString substringWithRange<span class="token punctuation">:</span>rangeRange<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">            		<span class="token punctuation">}</span></span>
<span class="line">        		<span class="token punctuation">}</span></span>
<span class="line">    		<span class="token punctuation">}</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5)]))}const l=s(p,[["render",o],["__file","textfiled限制输入字符.html.vue"]]),u=JSON.parse('{"path":"/tutorial/iPhone/ui/textfiled%E9%99%90%E5%88%B6%E8%BE%93%E5%85%A5%E5%AD%97%E7%AC%A6.html","title":"textfield限制输入字符","lang":"zh-CN","frontmatter":{"title":"textfield限制输入字符","date":"2017-05-21T00:00:00.000Z","category":["iOS"],"tag":["iOS"],"description":"记录一下限制输入字符的判断。不仅局限于中文或英文 首先在 ViewDidLoad 中注册通知 下面是判断逻辑 由于需求有中文键盘下的字母数字输入，所以其中那部分判断如不需要可以去除","head":[["meta",{"property":"og:url","content":"https://www.viptv.work/tutorial/iPhone/ui/textfiled%E9%99%90%E5%88%B6%E8%BE%93%E5%85%A5%E5%AD%97%E7%AC%A6.html"}],["meta",{"property":"og:site_name","content":"VIPTV - 工作室"}],["meta",{"property":"og:title","content":"textfield限制输入字符"}],["meta",{"property":"og:description","content":"记录一下限制输入字符的判断。不仅局限于中文或英文 首先在 ViewDidLoad 中注册通知 下面是判断逻辑 由于需求有中文键盘下的字母数字输入，所以其中那部分判断如不需要可以去除"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-26T09:46:43.000Z"}],["meta",{"property":"article:tag","content":"iOS"}],["meta",{"property":"article:published_time","content":"2017-05-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-26T09:46:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"textfield限制输入字符\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2017-05-21T00:00:00.000Z\\",\\"dateModified\\":\\"2024-11-26T09:46:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Hefung\\",\\"url\\":\\"/about/us\\"}]}"]]},"headers":[],"git":{"createdTime":1732614403000,"updatedTime":1732614403000,"contributors":[{"name":"github-actions[bot]","email":"28900094+github-actions[bot]@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":0.98,"words":295},"filePathRelative":"tutorial/iPhone/ui/textfiled限制输入字符.md","localizedDate":"2017年5月21日","excerpt":"","autoDesc":true}');export{l as comp,u as data};
