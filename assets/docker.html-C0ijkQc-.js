import{_ as r,c as o,f as l,a as s,g as n,e as t,w as i,d as p,o as c}from"./app-CtK-g4ZT.js";const d={},m={style:{"text-align":"center"}},v={style:{"text-align":"center"}},u={style:{"text-align":"center"}},k={style:{"text-align":"center"}};function g(h,e){const a=p("RouteLink");return c(),o("div",null,[e[16]||(e[16]=l('<h1 id="docker的安装" tabindex="-1"><a class="header-anchor" href="#docker的安装"><span>Docker的安装</span></a></h1><blockquote><p>更新时间：2024-7-1</p></blockquote><div class="hint-container caution"><p class="hint-container-title">通知</p><p>最近dockerhub官网被GFW屏蔽，镜像站也挂掉了</p><ul><li><p>解决：直接用阿里云的就行 或者 自行搭建</p></li><li><p>不建议：使用其他搭建的镜像站，要维护也不稳定</p></li></ul></div><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>虚拟机占用空间大，启动时间长，容器技术应运而生</p><p>docker就是其中一种应用容器引擎，可以更加便捷的管理镜像</p><p>官网：<a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">https://www.docker.com/</a></p><p>仓库：<a href="https://github.com/docker/docker-install/" target="_blank" rel="noopener noreferrer">https://github.com/docker/docker-install/</a></p><figure><img src="https://img.viptv.work/viptv/docker/docker-01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2>',10)),s("p",null,[e[2]||(e[2]=n("用 ")),t(a,{to:"/tutorial/website/shell/"},{default:i(()=>e[0]||(e[0]=[n("shell工具")])),_:1}),e[3]||(e[3]=n(" 登录 ")),t(a,{to:"/tutorial/website/Server/"},{default:i(()=>e[1]||(e[1]=[n("服务器")])),_:1}),e[4]||(e[4]=n("，然后一键安装Docker需要的依赖包"))]),e[17]||(e[17]=l(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://get.docker.com <span class="token parameter variable">-o</span> get-docker.sh</span>
<span class="line"><span class="token function">sh</span> get-docker.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-02.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>安装完成后，启动docker服务</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl start <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-03.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>设置docker开机自启</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-04.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>查看docker状态，绿色的运行中即可</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl status <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-05.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>查一下docker版本</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token parameter variable">-v</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-06.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>最后建议跟换一下国内源，下载文件速度会快很多</p><p><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer">阿里云官网</a> - 产品 - 容器 - 容器镜像服务 ACR</p><figure><img src="https://img.viptv.work/viptv/docker/docker-07.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>管理控制台，登录你的账号</p><figure><img src="https://img.viptv.work/viptv/docker/docker-08.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>镜像工具 - 镜像加速器，选择自己的操作系统按步骤来即可</p><figure><img src="https://img.viptv.work/viptv/docker/docker-09.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>创建 <code>/etc/docker</code> 目录</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后使用 <code>tee</code> 命令将 <code>EOF</code>之间的内容写入到 <code>daemon.json</code>中</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;</span>
<span class="line">{</span>
<span class="line">  &quot;registry-mirrors&quot;: [&quot;https://改成你自己的.mirror.aliyuncs.com&quot;]</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-10.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>重新加载配置并重启docker</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl daemon-reload</span>
<span class="line"><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-11.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>最后查看一下，<code>Registry Mirrors</code> 镜像是否更换成功</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> info</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-12.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose"><span>Docker compose</span></a></h2><div class="hint-container warning"><p class="hint-container-title">！可选安装</p><p>如果你容器不多，可以选择不装，我用最新的版本演示</p></div><p>官网：<a href="https://docs.docker.com/compose/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/compose/</a></p><p>仓库：<a href="https://github.com/docker/compose" target="_blank" rel="noopener noreferrer">https://github.com/docker/compose</a></p><p>本次仅演示 <a href="https://docs.docker.com/compose/install/standalone/" target="_blank" rel="noopener noreferrer">官网的独立安装方式</a> ，其他请自行参考</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">&quot;https://github.com/docker/compose/releases/download/v2.27.1/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-s</span><span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">)</span></span>&quot;</span> <span class="token parameter variable">-o</span> /usr/local/bin/docker-compose</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-13.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>开启可执行权限</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">chmod</span> +x /usr/local/bin/docker-compose</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-14.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>运行</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker-compose</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-15.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>查看版本</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker-compose</span> <span class="token parameter variable">-v</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://img.viptv.work/viptv/docker/docker-16.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>使用上可以通过 <code>hlep</code> 来查看命令</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker-compose</span> <span class="token parameter variable">--help</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><blockquote><p>带 ⭐ 的是有教程的，点击即可跳转</p></blockquote>`,52)),s("table",null,[e[15]||(e[15]=s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"center"}},"应用"),s("th",{style:{"text-align":"left"}},"说明")])],-1)),s("tbody",null,[s("tr",null,[s("td",m,[t(a,{to:"/tutorial/website/Halo.html"},{default:i(()=>e[5]||(e[5]=[n("⭐Halo")])),_:1})]),e[6]||(e[6]=s("td",{style:{"text-align":"left"}},"一款现代化的开源博客/CMS系统",-1))]),s("tr",null,[s("td",v,[t(a,{to:"/tutorial/website/Alist.html"},{default:i(()=>e[7]||(e[7]=[n("⭐Alist")])),_:1})]),e[8]||(e[8]=s("td",{style:{"text-align":"left"}},"一个网盘文件列表程序",-1))]),s("tr",null,[s("td",u,[t(a,{to:"/tutorial/website/qinglong.html"},{default:i(()=>e[9]||(e[9]=[n("⭐青龙面板")])),_:1})]),e[10]||(e[10]=s("td",{style:{"text-align":"left"}},"一个支持 Python3、JavaScript、Shell、Typescript 的定时任务管理平台",-1))]),s("tr",null,[s("td",k,[t(a,{to:"/tutorial/website/dockerhub.html"},{default:i(()=>e[11]||(e[11]=[n("⭐dockerhub")])),_:1})]),e[12]||(e[12]=s("td",{style:{"text-align":"left"}},"Docker官方提供一个托管平台，镜像上传",-1))]),e[13]||(e[13]=s("tr",null,[s("td",{style:{"text-align":"center"}},[s("a",{href:"https://meedu.vip/h5.html",target:"_blank",rel:"noopener noreferrer"},"MeEdu")]),s("td",{style:{"text-align":"left"}},"网校系统，有开源版本")],-1)),e[14]||(e[14]=s("tr",null,[s("td",{style:{"text-align":"center"}},[s("a",{href:"https://usememos.com/",target:"_blank",rel:"noopener noreferrer"},"Memos")]),s("td",{style:{"text-align":"left"}},"轻量级笔记服务")],-1))])]),e[18]||(e[18]=l(`<h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h2><p>更多命令请查看 <a href="https://docs.docker.com/reference/cli/docker/" target="_blank" rel="noopener noreferrer">官方文档</a></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token comment">#查看容器</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> stop 容器ID <span class="token comment">#暂停容器</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> start	<span class="token comment">#启动指定容器</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> restart	<span class="token comment">#重新启动容器</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span>	<span class="token comment">#进入容器</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">exit</span> <span class="token comment">#退出容器</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> 容器ID <span class="token comment">#删除容器</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> <span class="token function">kill</span> 容器ID <span class="token comment">#关闭容器</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> restart 容器名称 <span class="token comment">#重启容器</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> images <span class="token comment">#查看镜像</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> rmi 镜像ID <span class="token comment">#删除镜像</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> whyour/qinglong:latest <span class="token comment">#删除青龙镜像</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><details class="hint-container details"><summary>安装报错Errno 14</summary><p><code>Error: Unable to curl repository file ... repo</code></p><p>检查安装命令是否正确，下载失败了，或者卸载后重装</p></details><details class="hint-container details"><summary>卸载旧Docker</summary><p>如果你不是用curl方式安装的，请参考 <a href="https://docs.docker.com/engine/install/centos/#uninstall-docker-engine" target="_blank" rel="noopener noreferrer">官网卸载说明</a></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum remove docker-ce docker-ce-cli containerd.io</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker <span class="token comment">#删除Docker缓存</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/containerd <span class="token comment">#删除Docker容器实例</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>卸载docker compose</summary><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">rm</span> /usr/local/bin/docker-compose</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details>`,7))])}const f=r(d,[["render",g],["__file","docker.html.vue"]]),y=JSON.parse('{"path":"/tutorial/website/docker.html","title":"Docker的安装","lang":"zh-CN","frontmatter":{"description":"Docker的安装 更新时间：2024-7-1 通知 最近dockerhub官网被GFW屏蔽，镜像站也挂掉了 解决：直接用阿里云的就行 或者 自行搭建 不建议：使用其他搭建的镜像站，要维护也不稳定 简介 虚拟机占用空间大，启动时间长，容器技术应运而生 docker就是其中一种应用容器引擎，可以更加便捷的管理镜像 官网：https://www.docke...","head":[["meta",{"property":"og:url","content":"https://www.viptv.work/tutorial/website/docker.html"}],["meta",{"property":"og:site_name","content":"VIPTV - 工作室"}],["meta",{"property":"og:title","content":"Docker的安装"}],["meta",{"property":"og:description","content":"Docker的安装 更新时间：2024-7-1 通知 最近dockerhub官网被GFW屏蔽，镜像站也挂掉了 解决：直接用阿里云的就行 或者 自行搭建 不建议：使用其他搭建的镜像站，要维护也不稳定 简介 虚拟机占用空间大，启动时间长，容器技术应运而生 docker就是其中一种应用容器引擎，可以更加便捷的管理镜像 官网：https://www.docke..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.viptv.work/viptv/docker/docker-01.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-28T19:29:21.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-28T19:29:21.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker的安装\\",\\"image\\":[\\"https://img.viptv.work/viptv/docker/docker-01.png\\",\\"https://img.viptv.work/viptv/docker/docker-02.png\\",\\"https://img.viptv.work/viptv/docker/docker-03.png\\",\\"https://img.viptv.work/viptv/docker/docker-04.png\\",\\"https://img.viptv.work/viptv/docker/docker-05.png\\",\\"https://img.viptv.work/viptv/docker/docker-06.png\\",\\"https://img.viptv.work/viptv/docker/docker-07.png\\",\\"https://img.viptv.work/viptv/docker/docker-08.png\\",\\"https://img.viptv.work/viptv/docker/docker-09.png\\",\\"https://img.viptv.work/viptv/docker/docker-10.png\\",\\"https://img.viptv.work/viptv/docker/docker-11.png\\",\\"https://img.viptv.work/viptv/docker/docker-12.png\\",\\"https://img.viptv.work/viptv/docker/docker-13.png\\",\\"https://img.viptv.work/viptv/docker/docker-14.png\\",\\"https://img.viptv.work/viptv/docker/docker-15.png\\",\\"https://img.viptv.work/viptv/docker/docker-16.png\\"],\\"dateModified\\":\\"2024-09-28T19:29:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Hefung\\",\\"url\\":\\"/about/us\\"}]}"]]},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"Docker compose","slug":"docker-compose","link":"#docker-compose","children":[]},{"level":2,"title":"使用","slug":"使用","link":"#使用","children":[]},{"level":2,"title":"常用命令","slug":"常用命令","link":"#常用命令","children":[]},{"level":2,"title":"常见问题","slug":"常见问题","link":"#常见问题","children":[]}],"git":{"createdTime":1727551761000,"updatedTime":1727551761000,"contributors":[{"name":"qq2236639958","email":"viptvx@gmail.com","commits":1}]},"readingTime":{"minutes":2.9,"words":870},"filePathRelative":"tutorial/website/docker.md","localizedDate":"2024年9月29日","excerpt":"","autoDesc":true}');export{f as comp,y as data};
