import{j as u}from"./app-XRiXx080.js";const y=t=>e=>{const i={"zh-cn":{playlist:"播放列表"},en:{playlist:"Playlist"}};e.i18n.update(i);const n=(l,a)=>{if(!t.playlist[a])return;const r=l.option;let o=l;t.rebuildPlayer?(l.destroy(),o=new Artplayer({...r,...t.playlist[a],autoplay:t.autoNext??r.autoplay,i18n:i,id:`${r.id}-${a===0?"":a}`})):(l.switchUrl(t.playlist[a].url,t.playlist[a].title),(t.autoNext??r.autoplay)&&l.play()),typeof t.onchanged=="function"&&t.onchanged(o)},s=t.playlist.findIndex(l=>l.url===e.option.url);t.autoNext&&s<t.playlist.length&&e.on("video:ended",()=>{n(e,s+1)});const p='<i class="art-icon"><svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="M810.666667 384H85.333333v85.333333h725.333334V384z m0-170.666667H85.333333v85.333334h725.333334v-85.333334zM85.333333 640h554.666667v-85.333333H85.333333v85.333333z m640-85.333333v256l213.333334-128-213.333334-128z" fill="#ffffff"></path></svg></i>';return e.controls.add({name:"playlist",position:"right",html:t.showText?e.i18n.get("playlist"):p,style:{padding:"0 10px"},selector:t.playlist.map((l,a)=>({html:`${a+1}. ${l.title||`NO.${a+1}`}`,style:{textAlign:"left"},index:a,default:s===a})),onSelect(l){return n(e,l.index),t.showText?e.i18n.get("playlist"):p}}),{name:"artplayerPlaylist"}};typeof window<"u"&&(window.artplayerPlaylist=y);const c="https://img.viptv.work/iptv/ads.png",d=async(t,e,i)=>{const n=(await u(async()=>{const{default:s}=await import("./hls-B352H7_C.js");return{default:s}},[])).default;if(n.isSupported()){i.hls&&i.hls.destroy();let s=new n;s.loadSource(e),s.attachMedia(t),i.hls=s,i.on("destroy",()=>s.destroy())}else t.canPlayType("application/x-mpegURL")||t.canPlayType("application/vnd.apple.mpegURL")?t.src=e:i.notice.show="Unsupported playback format: m3u8"},f=t=>({poster:c,fullscreen:!0,fullscreenWeb:!0,autoplay:!0,autoOrientation:!0,lock:!0,setting:!1,moreVideoAttr:{"webkit-playsinline":!0,playsInline:!0},plugins:[y({rebuildPlayer:!1,onchanged:()=>{},autoNext:!0,playlist:t})]}),g=t=>({...f(t),type:"Hls",customType:{Hls:d}});export{g as h,f as m};
