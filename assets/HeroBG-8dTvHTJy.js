import{n as commonjsGlobal,p as getDefaultExportFromCjs,i as defineComponent,j as onMounted,v as useRouter,Y as nextTick,_ as _export_sfc,d as resolveComponent,o as openBlock,b as createBlock,h as withCtx,a as createBaseVNode}from"./app-ClfiKseU.js";var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;var n=u(),g=h(),e=o(),a=typeof window<"u"?window:commonjsGlobal;util={assign:n,create:g,trim:e,bind:l,slice:r,each:v,map:s,pluck:_,isList:c,isFunction:S,isObject:m,Global:a};function u(){return Object.assign?Object.assign:function(i,p,y,x){for(var d=1;d<arguments.length;d++)v(Object(arguments[d]),function(b,q){i[q]=b});return i}}function h(){if(Object.create)return function(i,p,y,x){var d=r(arguments,1);return n.apply(this,[Object.create(i)].concat(d))};{let t=function(){};return function(p,y,x,d){var b=r(arguments,1);return t.prototype=p,n.apply(this,[new t].concat(b))}}}function o(){return String.prototype.trim?function(i){return String.prototype.trim.call(i)}:function(i){return i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function l(t,i){return function(){return i.apply(t,Array.prototype.slice.call(arguments,0))}}function r(t,i){return Array.prototype.slice.call(t,i||0)}function v(t,i){_(t,function(p,y){return i(p,y),!1})}function s(t,i){var p=c(t)?[]:{};return _(t,function(y,x){return p[x]=i(y,x),!1}),p}function _(t,i){if(c(t)){for(var p=0;p<t.length;p++)if(i(t[p],p))return t[p]}else for(var y in t)if(t.hasOwnProperty(y)&&i(t[y],y))return t[y]}function c(t){return t!=null&&typeof t!="function"&&typeof t.length=="number"}function S(t){return t&&{}.toString.call(t)==="[object Function]"}function m(t){return t&&{}.toString.call(t)==="[object Object]"}return util}var storeEngine,hasRequiredStoreEngine;function requireStoreEngine(){if(hasRequiredStoreEngine)return storeEngine;hasRequiredStoreEngine=1;var n=requireUtil(),g=n.slice,e=n.pluck,a=n.each,u=n.bind,h=n.create,o=n.isList,l=n.isFunction,r=n.isObject;storeEngine={createStore:_};var v={version:"2.0.12",enabled:!1,get:function(c,S){var m=this.storage.read(this._namespacePrefix+c);return this._deserialize(m,S)},set:function(c,S){return S===void 0?this.remove(c):(this.storage.write(this._namespacePrefix+c,this._serialize(S)),S)},remove:function(c){this.storage.remove(this._namespacePrefix+c)},each:function(c){var S=this;this.storage.each(function(m,t){c.call(S,S._deserialize(m),(t||"").replace(S._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(c){return this._namespacePrefix=="__storejs_"+c+"_"},createStore:function(){return _.apply(this,arguments)},addPlugin:function(c){this._addPlugin(c)},namespace:function(c){return _(this.storage,this.plugins,c)}};function s(){var c=typeof console>"u"?null:console;if(c){var S=c.warn?c.warn:c.log;S.apply(c,arguments)}}function _(c,S,m){m||(m=""),c&&!o(c)&&(c=[c]),S&&!o(S)&&(S=[S]);var t=m?"__storejs_"+m+"_":"",i=m?new RegExp("^"+t):null,p=/^[a-zA-Z0-9_\-]*$/;if(!p.test(m))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y={_namespacePrefix:t,_namespaceRegexp:i,_testStorage:function(d){try{var b="__storejs__test__";d.write(b,b);var q=d.read(b)===b;return d.remove(b),q}catch{return!1}},_assignPluginFnProp:function(d,b){var q=this[b];this[b]=function(){var w=g(arguments,0),I=this;function O(){if(q)return a(arguments,function(B,F){w[F]=B}),q.apply(I,w)}var R=[O].concat(w);return d.apply(I,R)}},_serialize:function(d){return JSON.stringify(d)},_deserialize:function(d,b){if(!d)return b;var q="";try{q=JSON.parse(d)}catch{q=d}return q!==void 0?q:b},_addStorage:function(d){this.enabled||this._testStorage(d)&&(this.storage=d,this.enabled=!0)},_addPlugin:function(d){var b=this;if(o(d)){a(d,function(w){b._addPlugin(w)});return}var q=e(this.plugins,function(w){return d===w});if(!q){if(this.plugins.push(d),!l(d))throw new Error("Plugins must be function values that return objects");var E=d.call(this);if(!r(E))throw new Error("Plugins must return an object of function properties");a(E,function(w,I){if(!l(w))throw new Error("Bad plugin property: "+I+" from plugin "+d.name+". Plugins should only return functions.");b._assignPluginFnProp(w,I)})}},addStorage:function(d){s("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(d)}},x=h(y,v,{plugins:[]});return x.raw={},a(x,function(d,b){l(d)&&(x.raw[b]=u(x,d))}),a(c,function(d){x._addStorage(d)}),a(S,function(d){x._addPlugin(d)}),x}return storeEngine}var localStorage_1,hasRequiredLocalStorage;function requireLocalStorage(){if(hasRequiredLocalStorage)return localStorage_1;hasRequiredLocalStorage=1;var n=requireUtil(),g=n.Global;localStorage_1={name:"localStorage",read:a,write:u,each:h,remove:o,clearAll:l};function e(){return g.localStorage}function a(r){return e().getItem(r)}function u(r,v){return e().setItem(r,v)}function h(r){for(var v=e().length-1;v>=0;v--){var s=e().key(v);r(a(s),s)}}function o(r){return e().removeItem(r)}function l(){return e().clear()}return localStorage_1}var oldFFGlobalStorage,hasRequiredOldFFGlobalStorage;function requireOldFFGlobalStorage(){if(hasRequiredOldFFGlobalStorage)return oldFFGlobalStorage;hasRequiredOldFFGlobalStorage=1;var n=requireUtil(),g=n.Global;oldFFGlobalStorage={name:"oldFF-globalStorage",read:a,write:u,each:h,remove:o,clearAll:l};var e=g.globalStorage;function a(r){return e[r]}function u(r,v){e[r]=v}function h(r){for(var v=e.length-1;v>=0;v--){var s=e.key(v);r(e[s],s)}}function o(r){return e.removeItem(r)}function l(){h(function(r,v){delete e[r]})}return oldFFGlobalStorage}var oldIEUserDataStorage,hasRequiredOldIEUserDataStorage;function requireOldIEUserDataStorage(){if(hasRequiredOldIEUserDataStorage)return oldIEUserDataStorage;hasRequiredOldIEUserDataStorage=1;var n=requireUtil(),g=n.Global;oldIEUserDataStorage={name:"oldIE-userDataStorage",write:o,read:l,each:r,remove:v,clearAll:s};var e="storejs",a=g.document,u=S(),h=(g.navigator?g.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function o(m,t){if(!h){var i=c(m);u(function(p){p.setAttribute(i,t),p.save(e)})}}function l(m){if(!h){var t=c(m),i=null;return u(function(p){i=p.getAttribute(t)}),i}}function r(m){u(function(t){for(var i=t.XMLDocument.documentElement.attributes,p=i.length-1;p>=0;p--){var y=i[p];m(t.getAttribute(y.name),y.name)}})}function v(m){var t=c(m);u(function(i){i.removeAttribute(t),i.save(e)})}function s(){u(function(m){var t=m.XMLDocument.documentElement.attributes;m.load(e);for(var i=t.length-1;i>=0;i--)m.removeAttribute(t[i].name);m.save(e)})}var _=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function c(m){return m.replace(/^\d/,"___$&").replace(_,"___")}function S(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var m="script",t,i,p;try{i=new ActiveXObject("htmlfile"),i.open(),i.write("<"+m+">document.w=window</"+m+'><iframe src="/favicon.ico"></iframe>'),i.close(),t=i.w.frames[0].document,p=t.createElement("div")}catch{p=a.createElement("div"),t=a.body}return function(y){var x=[].slice.call(arguments,0);x.unshift(p),t.appendChild(p),p.addBehavior("#default#userData"),p.load(e),y.apply(this,x),t.removeChild(p)}}return oldIEUserDataStorage}var cookieStorage,hasRequiredCookieStorage;function requireCookieStorage(){if(hasRequiredCookieStorage)return cookieStorage;hasRequiredCookieStorage=1;var n=requireUtil(),g=n.Global,e=n.trim;cookieStorage={name:"cookieStorage",read:u,write:o,each:h,remove:l,clearAll:r};var a=g.document;function u(s){if(!s||!v(s))return null;var _="(?:^|.*;\\s*)"+escape(s).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(_),"$1"))}function h(s){for(var _=a.cookie.split(/; ?/g),c=_.length-1;c>=0;c--)if(e(_[c])){var S=_[c].split("="),m=unescape(S[0]),t=unescape(S[1]);s(t,m)}}function o(s,_){s&&(a.cookie=escape(s)+"="+escape(_)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function l(s){!s||!v(s)||(a.cookie=escape(s)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function r(){h(function(s,_){l(_)})}function v(s){return new RegExp("(?:^|;\\s*)"+escape(s).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}return cookieStorage}var sessionStorage_1,hasRequiredSessionStorage;function requireSessionStorage(){if(hasRequiredSessionStorage)return sessionStorage_1;hasRequiredSessionStorage=1;var n=requireUtil(),g=n.Global;sessionStorage_1={name:"sessionStorage",read:a,write:u,each:h,remove:o,clearAll:l};function e(){return g.sessionStorage}function a(r){return e().getItem(r)}function u(r,v){return e().setItem(r,v)}function h(r){for(var v=e().length-1;v>=0;v--){var s=e().key(v);r(a(s),s)}}function o(r){return e().removeItem(r)}function l(){return e().clear()}return sessionStorage_1}var memoryStorage_1,hasRequiredMemoryStorage;function requireMemoryStorage(){if(hasRequiredMemoryStorage)return memoryStorage_1;hasRequiredMemoryStorage=1,memoryStorage_1={name:"memoryStorage",read:g,write:e,each:a,remove:u,clearAll:h};var n={};function g(o){return n[o]}function e(o,l){n[o]=l}function a(o){for(var l in n)n.hasOwnProperty(l)&&o(n[l],l)}function u(o){delete n[o]}function h(o){n={}}return memoryStorage_1}var all,hasRequiredAll;function requireAll(){return hasRequiredAll||(hasRequiredAll=1,all=[requireLocalStorage(),requireOldFFGlobalStorage(),requireOldIEUserDataStorage(),requireCookieStorage(),requireSessionStorage(),requireMemoryStorage()]),all}var json2$1={},hasRequiredJson2$1;function requireJson2$1(){return hasRequiredJson2$1||(hasRequiredJson2$1=1,typeof JSON!="object"&&(JSON={}),function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;function quote(n){return rx_escapable.lastIndex=0,rx_escapable.test(n)?'"'+n.replace(rx_escapable,function(g){var e=meta[g];return typeof e=="string"?e:"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function str(n,g){var e,a,u,h,o=gap,l,r=g[n];switch(r&&typeof r=="object"&&typeof r.toJSON=="function"&&(r=r.toJSON(n)),typeof rep=="function"&&(r=rep.call(g,n,r)),typeof r){case"string":return quote(r);case"number":return isFinite(r)?String(r):"null";case"boolean":case"null":return String(r);case"object":if(!r)return"null";if(gap+=indent,l=[],Object.prototype.toString.apply(r)==="[object Array]"){for(h=r.length,e=0;e<h;e+=1)l[e]=str(e,r)||"null";return u=l.length===0?"[]":gap?`[
`+gap+l.join(`,
`+gap)+`
`+o+"]":"["+l.join(",")+"]",gap=o,u}if(rep&&typeof rep=="object")for(h=rep.length,e=0;e<h;e+=1)typeof rep[e]=="string"&&(a=rep[e],u=str(a,r),u&&l.push(quote(a)+(gap?": ":":")+u));else for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(u=str(a,r),u&&l.push(quote(a)+(gap?": ":":")+u));return u=l.length===0?"{}":gap?`{
`+gap+l.join(`,
`+gap)+`
`+o+"}":"{"+l.join(",")+"}",gap=o,u}}typeof JSON.stringify!="function"&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(n,g,e){var a;if(gap="",indent="",typeof e=="number")for(a=0;a<e;a+=1)indent+=" ";else typeof e=="string"&&(indent=e);if(rep=g,g&&typeof g!="function"&&(typeof g!="object"||typeof g.length!="number"))throw new Error("JSON.stringify");return str("",{"":n})}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){var j;function walk(n,g){var e,a,u=n[g];if(u&&typeof u=="object")for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(a=walk(u,e),a!==void 0?u[e]=a:delete u[e]);return reviver.call(n,g,u)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()),json2$1}var json2,hasRequiredJson2;function requireJson2(){if(hasRequiredJson2)return json2;hasRequiredJson2=1,json2=n;function n(){return requireJson2$1(),{}}return json2}var store_legacy,hasRequiredStore_legacy;function requireStore_legacy(){if(hasRequiredStore_legacy)return store_legacy;hasRequiredStore_legacy=1;var n=requireStoreEngine(),g=requireAll(),e=[requireJson2()];return store_legacy=n.createStore(g,e),store_legacy}var store_legacyExports=requireStore_legacy();const store=getDefaultExportFromCjs(store_legacyExports),mStorage=store,_sfc_main=defineComponent({__name:"HeroBG",setup(n,{expose:g}){g();const e=()=>{var S,m,t,i,p;let h=window.location.pathname,o=mStorage.get("BingImgIndex");const l=mStorage.get("BingImgList");(!o||o<0)&&(o=0),o>l.length-1&&(o=l.length-1),mStorage.set("BingImgIndex",o);const r=document.querySelector(".vp-blog-mask");o==0&&((S=document.getElementById("leftNav"))==null||S.classList.add("disabled")),o==l.length-1&&((m=document.getElementById("rightNav"))==null||m.classList.add("disabled")),o>0&&o<l.length-1&&((t=document.getElementById("leftNav"))==null||t.classList.remove("disabled"),(i=document.getElementById("rightNav"))==null||i.classList.remove("disabled"));let v=l[o];h.includes("/en")&&(v=v.EN);const s=document.getElementById("bingLink_text");s&&(s.innerHTML=v.Title),(p=document.getElementById("bingLink"))==null||p.setAttribute("href",v.CopyrightLink);const _=v.Path;r.style.background="",r.style.backgroundImage=`url(${_})`;const c=document.querySelector(".vp-footer-wrapper");c&&(c.style.backgroundImage=`url(${_})`)},a=()=>{var v;const h=document.querySelector(".vp-blog-mask");if(!h)return;const o=mStorage.get("BingImgList");if(o&&o.length<1)return;if(!document.getElementById("BingSwitchWrapper")){const s=document.createElement("div");s.id="BingSwitchWrapper",s.innerHTML=`
<a href="" target="_Blank" id="bingLink">
  <div class="bingLink_icon"><svg class="mapPin" height="16" width="16" viewBox="0 0 12 12" aria-hidden="true" role="presentation"><path d="M0 0h12v12h-12z" fill="none"></path><path d="M6.5 3a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5zm0-3a4.5 4.5 0 0 0-4.5 4.5 5.607 5.607 0 0 0 .087.873c.453 2.892 2.951 5.579 3.706 6.334a1 1 0 0 0 1.414 0c.755-.755 3.253-3.442 3.706-6.334a5.549 5.549 0 0 0 .087-.873 4.5 4.5 0 0 0-4.5-4.5zm3.425 5.218c-.36 2.296-2.293 4.65-3.425 5.782-1.131-1.132-3.065-3.486-3.425-5.782a4.694 4.694 0 0 1-.075-.718 3.5 3.5 0 0 1 7 0 4.634 4.634 0 0 1-.075.718z"></path></svg></div>
  <div id="bingLink_text"></div>
</a>
<div id="leftNav"></div>
<div id="rightNav"></div>`,(v=h.parentElement)==null||v.insertBefore(s,h)}const l=document.getElementById("leftNav"),r=document.getElementById("rightNav");l&&r&&(e(),l.onclick=()=>{let s=mStorage.get("BingImgIndex");s--,mStorage.set("BingImgIndex",s),e()},r.onclick=()=>{let s=mStorage.get("BingImgIndex");s++,mStorage.set("BingImgIndex",s),e()})};onMounted(()=>{useRouter().afterEach(()=>{nextTick(()=>{setTimeout(()=>{a()},50)})})});const u={UpdateBingImg:e,InsertBtn:a};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function _sfc_render(n,g,e,a,u,h){const o=resolveComponent("ClientOnly");return openBlock(),createBlock(o,null,{default:withCtx(()=>g[0]||(g[0]=[createBaseVNode("div",{class:"none"},"Bing壁纸",-1)])),_:1})}const HeroBG=_export_sfc(_sfc_main,[["render",_sfc_render],["__file","HeroBG.vue"]]);export{HeroBG as default};
