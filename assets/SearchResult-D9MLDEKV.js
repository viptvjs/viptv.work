import{l as J,n as et,p as ot,q as _,s as lt,P as at,t as it,v as st,k as q,x as F,y as ht,z as I,A as o,B as mt,R as L,C as rt,D as ut,E as ct,G as Et,H as nt,I as bt,i as vt,J as gt,K as kt,L as C,M as Bt,N as dt,O as yt,Q as O,S as N,T as At}from"./app-lqZsulIJ.js";const pt=["/","/about/","/about/blog.html","/about/changelog.html","/about/community.html","/about/donate.html","/about/faq.html","/archives/","/book/","/en/","/iptv/","/music/","/vod/","/archives/2018/2018-09.html","/archives/2018/2018-10.html","/archives/2018/2018-11.html","/archives/2018/2018-12.html","/archives/2019/2019-01.html","/archives/2019/2019-02.html","/archives/2019/2019-03.html","/archives/2019/2019-04.html","/archives/2019/2019-05.html","/archives/2019/2019-06.html","/archives/2019/2019-07.html","/archives/2019/2019-08.html","/archives/2019/2019-09.html","/archives/2019/2019-10.html","/archives/2019/2019-11.html","/archives/2019/2019-12.html","/archives/2020/2020-01.html","/archives/2020/2020-02.html","/archives/2020/2020-03.html","/archives/2020/2020-04.html","/archives/2020/2020-05.html","/archives/2020/2020-06.html","/archives/2020/2020-07.html","/archives/2020/2020-08.html","/archives/2020/2020-09.html","/archives/2020/2020-10.html","/archives/2020/2020-11.html","/archives/2020/2020-12.html","/archives/2021/2021-01.html","/archives/2021/2021-02.html","/archives/2021/2021-03.html","/archives/2021/2021-04.html","/archives/2021/2021-05.html","/archives/2021/2021-06.html","/archives/2021/2021-07.html","/archives/2021/2021-08.html","/archives/2021/2021-09.html","/archives/2021/2021-10.html","/archives/2021/2021-11.html","/archives/2021/2021-12.html","/archives/2022/2022-01.html","/archives/2022/2022-02.html","/archives/2022/2022-03.html","/archives/2022/2022-04.html","/archives/2022/2022-05.html","/archives/2022/2022-06.html","/archives/2022/2022-07.html","/archives/2022/2022-08.html","/archives/2022/2022-09.html","/archives/2022/2022-10.html","/archives/2022/2022-11.html","/archives/2022/2022-12.html","/archives/2023/2023-01.html","/archives/2023/2023-02.html","/archives/2023/2023-03.html","/archives/2023/2023-04.html","/archives/2023/2023-05.html","/archives/2023/2023-06.html","/archives/2023/2023-07.html","/archives/2023/2023-08.html","/archives/2023/2023-09.html","/archives/2023/2023-10.html","/archives/2023/2023-11.html","/archives/2023/2023-12.html","/archives/2024/2024-01.html","/archives/2024/2024-02.html","/archives/2024/2024-03.html","/archives/2024/2024-04.html","/archives/2024/2024-05.html","/archives/2024/2024-06.html","/archives/2024/2024-07.html","/archives/2024/2024-08.html","/book/Linux/","/book/Linux/iterm2-pure.html","/book/Linux/unix-linux-note.html","/book/Linux/zsh.html","/book/Python/","/book/Python/submit-bing.html","/book/Python/submit-url.html","/book/Rust/","/book/Rust/first-time.html","/book/Web/Q_A.html","/book/Web/","/book/computer/","/book/computer/bookmark.html","/book/computer/crx.html","/book/computer/icon.html","/book/computer/linux.html","/book/computer/markdown.html","/book/computer/pake.html","/book/computer/ps.html","/book/computer/qqmail.html","/book/computer/tampermonkey.html","/book/computer/todesk.html","/book/computer/tts.html","/book/computer/tvapp.html","/book/computer/wecom.html","/book/computer/wepe.html","/book/computer/win11.html","/book/cross-platform/","/book/daily/1688.html","/book/daily/24.html","/book/daily/","/book/daily/bags-just-yet.html","/book/daily/blood.html","/book/daily/cherries.html","/book/daily/house.html","/book/daily/jd.html","/book/daily/mahjong.html","/book/daily/paypal.html","/book/daily/taobao.html","/book/daily/vitamin.html","/book/gfw/Clash.html","/book/gfw/Hiddify.html","/book/gfw/Karing.html","/book/gfw/NekoBox.html","/book/gfw/","/book/gfw/channel.html","/book/gfw/protocol.html","/book/gfw/proxy.html","/book/gfw/quantumultX.html","/book/gfw/shadowrocket.html","/book/gfw/singbox.html","/book/gfw/v2ray.html","/book/gfw/warp.html","/book/gfw/wireguard.html","/book/iPhone/Apple_ID.html","/book/iPhone/Filza.html","/book/iPhone/","/book/iPhone/Reqable.html","/book/iPhone/Stream.html","/book/iPhone/kfd.html","/book/iPhone/mdc.html","/book/iPhone/smscard.html","/book/iPhone/stay2.html","/book/mi/","/book/mi/mi_theme.html","/book/mi/miui.html","/book/telegram/","/book/telegram/sticker.html","/book/telegram/tg.html","/book/telegram/tgbot.html","/book/tutorial/","/book/tutorial/bookmark-scripts.html","/book/tutorial/browser.html","/book/tutorial/idx-dev.html","/book/tutorial/online-tools.html","/book/tutorial/vscode.html","/book/tutorial/windows.html","/book/website/Alist.html","/book/website/BT.html","/book/website/Centos.html","/book/website/Favicon.html","/book/website/Halo.html","/book/website/NAT.html","/book/website/","/book/website/Replit.html","/book/website/VMware.html","/book/website/VSCode.html","/book/website/WebStack.html","/book/website/cloudflare.html","/book/website/docker.html","/book/website/dockerhub.html","/book/website/go.html","/book/website/heng.html","/book/website/home.html","/book/website/ish.html","/book/website/linux.html","/book/website/nodejs.html","/book/website/qinglong.html","/book/website/uptimerobot.html","/book/website/wordpress.html","/iptv/ty/","/iptv/ws/","/iptv/ws/wspd.html","/iptv/ys/","/iptv/ys/xiongmao.html","/iptv/ys/yspd.html","/music/douyin/","/music/douyin/huwai.html","/music/douyin/music.html","/music/douyin/qingan.html","/music/douyin/wudao.html","/music/fm/","/music/fm/dst.html","/music/fm/fyt.html","/music/fm/jjt.html","/music/fm/jtt.html","/music/fm/tyt.html","/music/fm/wlt.html","/music/fm/wyt.html","/music/fm/yyt.html","/music/fm/zxt.html","/music/kugou/","/music/kugou/gd-tj.html","/music/kugou/ngs-gfc.html","/music/kugou/ngs-ldh.html","/music/kugou/ngs-xz.html","/music/kugou/ngs-zhj.html","/music/kugou/ngs-zxy.html","/music/kugou/vgs-cx.html","/music/kugou/vgs-cyl.html","/music/kugou/vgs-dlj.html","/music/kugou/vgs-dzq.html","/music/kugou/vgs-wxl.html","/music/yy/","/music/yy/yy-game.html","/music/yy/yy-rewu.html","/vod/dongman/","/vod/dongman/gcdm.html","/vod/dongman/gtdm.html","/vod/dongman/hwdm.html","/vod/dongman/omdm.html","/vod/dongman/rhdm.html","/vod/duanju/","/vod/duanju/fzsj.html","/vod/duanju/gzxx.html","/vod/duanju/ndcy.html","/vod/duanju/ndxy.html","/vod/duanju/remen.html","/vod/duanju/swdj.html","/vod/duanju/xdds.html","/vod/movie/","/vod/movie/aqp.html","/vod/movie/dzp.html","/vod/movie/jqp.html","/vod/movie/kbp.html","/vod/movie/khp.html","/vod/movie/xjp.html","/vod/movie/zzp.html","/vod/sport/","/vod/sport/lanqiu.html","/vod/sport/taiqiu.html","/vod/sport/zuqiu.html","/vod/tvb/","/vod/tvb/gcj.html","/vod/tvb/hgj.html","/vod/tvb/hkj.html","/vod/tvb/hwj.html","/vod/tvb/omj.html","/vod/tvb/rbj.html","/vod/tvb/tgj.html","/vod/tvb/twj.html","/vod/video/","/vod/video/ks.dance.html","/vod/video/ks.dancedj.html","/vod/video/ks.gcw.html","/vod/video/ks.meitui.html","/vod/video/ks.xjj.html","/vod/zongyi/","/vod/zongyi/dlzy.html","/vod/zongyi/gtzy.html","/vod/zongyi/omzy.html","/vod/zongyi/rhzy.html","/book/Web/Browser/","/book/Web/Browser/event-loop.html","/book/Web/CSS/","/book/Web/CSS/calculation.html","/book/Web/CSS/containing-block.html","/book/Web/JavaScript/","/book/Web/JavaScript/js-module-loader.html","/book/Web/JavaScript/js-version.html","/book/Web/JavaScript/judgment.html","/book/Web/Vue/","/book/Web/Vue/optimization.html","/book/Web/Vue/vue2-principle.html","/book/Web/node/","/book/Web/node/node-version.html","/book/cross-platform/Flutter/","/book/cross-platform/Flutter/concurrency.html","/book/cross-platform/Flutter/newbie.html","/book/cross-platform/Flutter/principle.html","/book/cross-platform/ReactNative/","/book/cross-platform/ReactNative/react1.html","/book/cross-platform/ReactNative/react2.html","/book/cross-platform/ReactNative/react3.html","/book/iPhone/Jailbreak/Dopamine.html","/book/iPhone/Jailbreak/checkra1n.html","/book/iPhone/Jailbreak/","/book/iPhone/Jailbreak/repo.html","/book/iPhone/Jailbreak/unc0ver.html","/book/iPhone/other/JavaScriptBridge.html","/book/iPhone/other/coreML.html","/book/iPhone/other/test-Three-ways-to-%20call.html","/book/iPhone/other/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83.html","/book/iPhone/sign/Sideloadly.html","/book/iPhone/sign/TrollStore.html","/book/iPhone/sign/bullfrog.html","/book/iPhone/sign/esign.html","/book/iPhone/sign/","/book/iPhone/source/AFNETworking-A-memory-leak.html","/book/iPhone/source/","/book/iPhone/source/WCDB.html","/book/iPhone/source/YYMemoryCache.html","/book/iPhone/swift/","/book/iPhone/swift/swift%E6%8D%95%E8%8E%B7%E8%AF%AD%E4%B9%89.html","/book/iPhone/system/NSError.html","/book/iPhone/system/NSOperation%E5%92%8CNSOPerationQueue.html","/book/iPhone/system/Reduced-App-%20volume.html","/book/iPhone/system/WKWebView-URL.html","/book/iPhone/system/WKWebView.html","/book/iPhone/system/iOS%E4%B8%AD%E7%9A%84Runloop.html","/book/iPhone/system/iOS%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8Benum%EF%BC%8CNS_ENUM%EF%BC%8CNS_OPTIONS.html","/book/iPhone/system/iOS%E7%9A%84Cookie%E4%BD%BF%E7%94%A8.html","/book/iPhone/system/iOS%E7%A8%8B%E5%BA%8F%E5%90%AF%E5%8A%A8%E5%8E%9F%E7%90%86%EF%BC%88%E4%B8%8A%EF%BC%89.html","/book/iPhone/system/iOS%E7%A8%8B%E5%BA%8F%E5%90%AF%E5%8A%A8%E5%8E%9F%E7%90%86%EF%BC%88%E4%B8%8B%EF%BC%89.html","/book/iPhone/system/keychain%E6%9B%B4%E6%96%B0.html","/book/iPhone/system/runtime%E5%BF%AB%E9%80%9F%E5%BD%92%E6%A1%A3.html","/book/iPhone/tool/Update-Cocoapods.html","/book/iPhone/tool/ijkplayer.html","/book/iPhone/tool/%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95.html","/book/iPhone/tool/%E9%85%8D%E7%BD%AEhttps.html","/book/iPhone/ui/cell%E5%A4%8D%E7%94%A8-accessoryType%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95.html","/book/iPhone/ui/tableview-radius.html","/book/iPhone/ui/textfiled%E9%99%90%E5%88%B6%E8%BE%93%E5%85%A5%E5%AD%97%E7%AC%A6.html","/book/iPhone/ui/timelineLogistics.html","/book/iPhone/ui/%E4%BC%98%E9%9B%85%E7%9A%84cell%E5%8D%95%E9%80%89.html","/book/tutorial/CI_CD/Jenkins.html","/book/tutorial/CI_CD/","/book/tutorial/CI_CD/vercel-deploy.html","/book/tutorial/OSS/","/book/tutorial/OSS/meting2.html","/book/tutorial/github/","/book/tutorial/github/github-action.html","/book/tutorial/github/ssh-key.html","/book/website/Server/Serv00.html","/book/website/Server/hax.html","/book/website/Server/","/book/website/Server/tencent.html","/book/website/Server/wordpress.html","/book/website/domain/cloudns.html","/book/website/domain/commp.html","/book/website/domain/dnsexit.html","/book/website/domain/eu.html","/book/website/domain/","/book/website/domain/l53.html","/book/website/domain/tencent.html","/book/website/domain/uskg.html","/book/website/pages/git.html","/book/website/pages/github.html","/book/website/pages/gitlab.html","/book/website/pages/","/book/website/pages/vercel.html","/book/website/shell/JuiceSSH.html","/book/website/shell/Termius.html","/book/website/shell/Xshell.html","/book/website/shell/","/book/website/ssl/bt.html","/book/website/ssl/","/book/website/ssl/laici.html","/book/website/ssl/tencent.html","/book/website/ssl/zerossl.html","/404.html","/archives/2018/","/archives/2019/","/archives/2020/","/archives/2021/","/archives/2022/","/archives/2023/","/archives/2024/","/book/iPhone/other/","/book/iPhone/system/","/book/iPhone/tool/","/book/iPhone/ui/","/category/","/category/%E5%85%AC%E5%91%8A/","/category/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/","/category/%E7%BD%91%E7%BB%9C%E7%94%B5%E8%A7%86/","/category/%E9%9F%B3%E4%B9%90%E7%94%B5%E5%8F%B0/","/category/%E5%BD%B1%E8%A7%86%E7%82%B9%E6%92%AD/","/category/linux/","/category/python/","/category/rust/","/category/%E6%B5%8F%E8%A7%88%E5%99%A8/","/category/ai/","/category/iptv/","/category/%E7%9B%B4%E6%92%AD/","/category/%E9%9F%B3%E4%B9%90/","/category/%E9%83%BD%E5%B8%82%E5%8F%B0/","/category/%E6%96%B9%E8%A8%80%E5%8F%B0/","/category/%E7%BB%8F%E6%B5%8E%E5%8F%B0/","/category/%E4%BA%A4%E9%80%9A%E5%8F%B0/","/category/%E4%BD%93%E8%82%B2%E5%8F%B0/","/category/%E7%BD%91%E7%BB%9C%E5%8F%B0/","/category/%E6%96%87%E8%89%BA%E5%8F%B0/","/category/%E9%9F%B3%E4%B9%90%E5%8F%B0/","/category/%E8%B5%84%E8%AE%AF%E5%8F%B0/","/category/%E7%94%B7%E6%AD%8C%E6%89%8B/","/category/%E5%A5%B3%E6%AD%8C%E6%89%8B/","/category/yy/","/category/css/","/category/javascript/","/category/vue/","/category/flutter/","/category/dart/","/category/%E5%89%8D%E7%AB%AF%E8%B7%A8%E5%B9%B3%E5%8F%B0/","/category/ios/","/category/swift/","/category/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/","/category/vercel/","/category/%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/","/category/github/","/category/git/","/tag/","/tag/changelog/","/tag/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/","/tag/%E9%9F%B3%E4%B9%90%E7%94%B5%E5%8F%B0/","/tag/%E5%BD%B1%E8%A7%86%E7%82%B9%E6%92%AD/","/tag/terminal/","/tag/linux/","/tag/os/","/tag/unix/","/tag/%E5%B7%A5%E5%85%B7%E8%84%9A%E6%9C%AC/","/tag/github-action/","/tag/rust/","/tag/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/","/tag/ai/","/tag/%E6%88%90%E4%BA%BA%E7%9B%B4%E6%92%AD/","/tag/%E6%B5%8B%E8%AF%95/","/tag/%E7%86%8A%E7%8C%AB/","/tag/%E6%88%B7%E5%A4%96/","/tag/%E9%9F%B3%E4%B9%90/","/tag/%E6%83%85%E6%84%9F/","/tag/%E9%83%BD%E5%B8%82%E5%8F%B0/","/tag/%E6%96%B9%E8%A8%80%E5%8F%B0/","/tag/%E7%BB%8F%E6%B5%8E%E5%8F%B0/","/tag/%E4%BA%A4%E9%80%9A%E5%8F%B0/","/tag/%E4%BD%93%E8%82%B2%E5%8F%B0/","/tag/%E7%BD%91%E7%BB%9C%E5%8F%B0/","/tag/%E6%96%87%E8%89%BA%E5%8F%B0/","/tag/%E9%9F%B3%E4%B9%90%E5%8F%B0/","/tag/%E8%B5%84%E8%AE%AF%E5%8F%B0/","/tag/%E9%85%B7%E7%8B%97%E6%AD%8C%E5%8D%95/","/tag/%E9%83%AD%E5%AF%8C%E5%9F%8E/","/tag/%E5%88%98%E5%BE%B7%E5%8D%8E/","/tag/%E8%82%96%E6%88%98/","/tag/%E5%91%A8%E5%8D%8E%E5%81%A5/","/tag/%E5%BC%A0%E5%AD%A6%E5%8F%8B/","/tag/%E5%A5%B3%E6%AD%8C%E6%89%8B/","/tag/%E7%A8%8B%E5%93%8D/","/tag/%E8%94%A1%E4%BE%9D%E6%9E%97/","/tag/%E9%82%93%E4%B8%BD%E5%90%9B/","/tag/g.e.m.%E9%82%93%E7%B4%AB%E6%A3%8B/","/tag/%E7%8E%8B%E5%BF%83%E5%87%8C/","/tag/%E6%B8%B8%E6%88%8F/","/tag/%E5%8A%A8%E6%BC%AB/","/tag/%E7%9F%AD%E5%89%A7/","/tag/%E6%B8%AF%E5%8F%B0%E4%B8%89%E7%BA%A7/","/tag/%E9%9F%A9%E5%9B%BD%E4%BC%A6%E7%90%86/","/tag/%E4%BC%A6%E7%90%86%E7%89%87/","/tag/%E9%BA%BB%E8%B1%86%E8%A7%86%E9%A2%91/","/tag/%E6%97%A5%E6%9C%AC%E4%BC%A6%E7%90%86/","/tag/tiktok/","/tag/%E7%88%B1%E6%83%85/","/tag/%E7%AF%AE%E7%90%83/","/tag/%E5%89%A7%E6%83%85/","/tag/%E6%81%90%E6%80%96/","/tag/%E7%A7%91%E5%B9%BB/","/tag/%E5%96%9C%E5%89%A7/","/tag/%E6%88%98%E4%BA%89/","/tag/%E5%8F%B0%E7%90%83/","/tag/%E8%B6%B3%E7%90%83/","/tag/%E5%9B%BD%E4%BA%A7%E5%89%A7/","/tag/%E9%9F%A9%E5%9B%BD%E5%89%A7/","/tag/%E9%A6%99%E6%B8%AF%E5%89%A7/","/tag/%E6%B5%B7%E5%A4%96%E5%89%A7/","/tag/%E6%AC%A7%E7%BE%8E%E5%89%A7/","/tag/%E6%97%A5%E6%9C%AC%E5%89%A7/","/tag/%E6%B3%B0%E5%9B%BD%E5%89%A7/","/tag/%E5%8F%B0%E6%B9%BE%E5%89%A7/","/tag/%E5%B0%8F%E5%A7%90%E5%A7%90/","/tag/%E5%BF%AB%E6%89%8B/","/tag/%E5%B9%BF%E5%9C%BA%E8%88%9E/","/tag/%E7%BB%BC%E8%89%BA/","/tag/%E6%B8%AF%E5%8F%B0%E7%BB%BC%E8%89%BA/","/tag/javascript/","/tag/%E7%BF%BB%E8%AF%91/","/tag/%E4%BC%98%E5%8C%96/","/tag/vue%E5%93%8D%E5%BA%94%E5%BC%8F/","/tag/node/","/tag/dart/","/tag/flutter/","/tag/%E5%89%8D%E7%AB%AF/","/tag/react-native/","/tag/ios/","/tag/bug%E5%BD%95/","/tag/%E5%B7%A5%E5%85%B7%E9%9B%86/","/tag/swift/","/tag/objectiv-c%E8%AF%AD%E6%B3%95/","/tag/%E7%AE%97%E6%B3%95/","/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","/tag/demo/","/tag/jenkins/","/tag/vercel/","/tag/github/","/tag/github-actions/","/tag/ssh-key/","/article/","/star/","/timeline/","/recent-updated/","/slides/"],wt="SEARCH_PRO_QUERY_HISTORY",k=J(wt,[]),Ft=()=>{const{queryHistoryCount:l}=C,a=l>0;return{enabled:a,queryHistory:k,addQueryHistory:i=>{a&&(k.value=Array.from(new Set([i,...k.value.slice(0,l-1)])))},removeQueryHistory:i=>{k.value=[...k.value.slice(0,i),...k.value.slice(i+1)]}}},H=l=>pt[l.id]+("anchor"in l?`#${l.anchor}`:""),Ct="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:T}=C,B=J(Ct,[]),ft=()=>{const l=T>0;return{enabled:l,resultHistory:B,addResultHistory:a=>{if(l){const i={link:H(a),display:a.display};"header"in a&&(i.header=a.header),B.value=[i,...B.value.slice(0,T-1)]}},removeResultHistory:a=>{B.value=[...B.value.slice(0,a),...B.value.slice(a+1)]}}},Dt=l=>{const a=Et(),i=_(),f=nt(),h=q(0),A=F(()=>h.value>0),b=bt([]);return vt(()=>{const{search:v,terminate:D}=gt(),d=kt(u=>{const y=u.join(" "),{searchFilter:P=n=>n,splitWord:S,suggestionsFilter:z,...g}=a.value;y?(h.value+=1,v(u.join(" "),i.value,g).then(n=>P(n,y,i.value,f.value)).then(n=>{h.value-=1,b.value=n}).catch(n=>{console.warn(n),h.value-=1,h.value||(b.value=[])})):b.value=[]},C.searchDelay-C.suggestDelay);I([l,i],([u])=>d(u),{immediate:!0}),Bt(()=>{D()})}),{isSearching:A,results:b}};var St=et({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(l,{emit:a}){const i=ot(),f=_(),h=lt(at),{enabled:A,addQueryHistory:b,queryHistory:v,removeQueryHistory:D}=Ft(),{enabled:d,resultHistory:u,addResultHistory:y,removeResultHistory:P}=ft(),S=A||d,z=it(l,"queries"),{results:g,isSearching:n}=Dt(z),s=st({isQuery:!0,index:0}),c=q(0),E=q(0),W=F(()=>S&&(v.value.length>0||u.value.length>0)),x=F(()=>g.value.length>0),j=F(()=>g.value[c.value]||null),V=()=>{const{isQuery:t,index:e}=s;e===0?(s.isQuery=!t,s.index=t?u.value.length-1:v.value.length-1):s.index=e-1},M=()=>{const{isQuery:t,index:e}=s;e===(t?v.value.length-1:u.value.length-1)?(s.isQuery=!t,s.index=0):s.index=e+1},U=()=>{c.value=c.value>0?c.value-1:g.value.length-1,E.value=j.value.contents.length-1},$=()=>{c.value=c.value<g.value.length-1?c.value+1:0,E.value=0},Y=()=>{E.value<j.value.contents.length-1?E.value+=1:$()},K=()=>{E.value>0?E.value-=1:U()},R=t=>t.map(e=>At(e)?e:o(e[0],e[1])),X=t=>{if(t.type==="customField"){const e=dt[t.index]||"$content",[m,w=""]=yt(e)?e[f.value].split("$content"):e.split("$content");return t.display.map(r=>o("div",R([m,...r,w])))}return t.display.map(e=>o("div",R(e)))},p=()=>{c.value=0,E.value=0,a("updateQuery",""),a("close")},G=()=>A?o("ul",{class:"search-pro-result-list"},o("li",{class:"search-pro-result-list-item"},[o("div",{class:"search-pro-result-title"},h.value.queryHistory),v.value.map((t,e)=>o("div",{class:["search-pro-result-item",{active:s.isQuery&&s.index===e}],onClick:()=>{a("updateQuery",t)}},[o(O,{class:"search-pro-result-type"}),o("div",{class:"search-pro-result-content"},t),o("button",{class:"search-pro-remove-icon",innerHTML:N,onClick:m=>{m.preventDefault(),m.stopPropagation(),D(e)}})]))])):null,Z=()=>d?o("ul",{class:"search-pro-result-list"},o("li",{class:"search-pro-result-list-item"},[o("div",{class:"search-pro-result-title"},h.value.resultHistory),u.value.map((t,e)=>o(L,{to:t.link,class:["search-pro-result-item",{active:!s.isQuery&&s.index===e}],onClick:()=>{p()}},()=>[o(O,{class:"search-pro-result-type"}),o("div",{class:"search-pro-result-content"},[t.header?o("div",{class:"content-header"},t.header):null,o("div",t.display.map(m=>R(m)).flat())]),o("button",{class:"search-pro-remove-icon",innerHTML:N,onClick:m=>{m.preventDefault(),m.stopPropagation(),P(e)}})]))])):null;return ht("keydown",t=>{if(l.isFocusing){if(x.value){if(t.key==="ArrowUp")K();else if(t.key==="ArrowDown")Y();else if(t.key==="Enter"){const e=j.value.contents[E.value];b(l.queries.join(" ")),y(e),i.push(H(e)),p()}}else if(d){if(t.key==="ArrowUp")V();else if(t.key==="ArrowDown")M();else if(t.key==="Enter"){const{index:e}=s;s.isQuery?(a("updateQuery",v.value[e]),t.preventDefault()):(i.push(u.value[e].link),p())}}}}),I([c,E],()=>{var t;(t=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||t.scrollIntoView(!1)},{flush:"post"}),()=>o("div",{class:["search-pro-result-wrapper",{empty:l.queries.length?!x.value:!W.value}],id:"search-pro-results"},l.queries.length?n.value?o(mt,{hint:h.value.searching}):x.value?o("ul",{class:"search-pro-result-list"},g.value.map(({title:t,contents:e},m)=>{const w=c.value===m;return o("li",{class:["search-pro-result-list-item",{active:w}]},[o("div",{class:"search-pro-result-title"},t||h.value.defaultTitle),e.map((r,tt)=>{const Q=w&&E.value===tt;return o(L,{to:H(r),class:["search-pro-result-item",{active:Q,"aria-selected":Q}],onClick:()=>{b(l.queries.join(" ")),y(r),p()}},()=>[r.type==="text"?null:o(r.type==="title"?rt:r.type==="heading"?ut:ct,{class:"search-pro-result-type"}),o("div",{class:"search-pro-result-content"},[r.type==="text"&&r.header?o("div",{class:"content-header"},r.header):null,o("div",X(r))])])})])})):h.value.emptyResult:S?W.value?[G(),Z()]:h.value.emptyHistory:h.value.emptyResult)}});export{St as default};
